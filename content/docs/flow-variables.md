---
id: flow-variables
title: 流程变量
subtitle: 流程变量
permalink: docs/flow-variables.html
prev: flow-variables.html
next: flow-nodes.html
---


PPMESSAGE 流程中可以应用变量，这些变量可以用于逻辑计算节点，正则表达式节点，消息发送节点。正确理解变量，可以让你的消息流程异常强大。

在 PPMESSAGE 中变量分成以下三类:

- **系统变量:**这些变量往往是跟访客相关的一些属性值。对应系统的标准字段。
- **定制字段变量:**这些变量是针对用户属性的定制字段，在“设置-客户管理-访客字段”中设置。
- **事件字段变量:**这些变量针对用户自定义事件，在“设置-客户管理-访客字段”中设置。

在逻辑计算、正则表达式计算、发送消息等节点上我们可以直接引用这些变量。

# 在表达式中引用变量
在表达式中可以直接通过变量名引用变量，语法与 Python 的语法一致。以 `customer_user_type` 和 `is_assigned_user` 变量举例:

`customer_user_type==‘VIP’` 表示要判断客户类型等于 `VIP`，如果等于就返回 `TRUE`，否则返回 `FALSE`。

`is_assigned_user==True` 判断访客是否已经分配座席，如果已经分配就返回 `TRUE`，否则返回 `FALSE`。

# 在文本中引用变量
     在给客户发送的消息中引用变量，可以为客户发送个性化的消息。例如，在“以座席用户回复消息”流程节点中，选择消息源为文本，而文本中可以引用变量，如按照客户来源创建一个欢迎词:

>"您好，欢迎来自 {{ `user_country` }}  {{ `user_city` }} 的朋友"


每个变量名都要用两个大括号来引用，例如一个来自中国北京的访客收到以上消息，那么访客收到的消息是个性化的 “您好，欢迎来自中国北京的朋友” 这样的欢迎消息。
